<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/bootstrap/bootstrap.min.css">
    <!-- FontAwesome CSS -->
    <link rel="stylesheet" href="assets/fontawesome/css/all.min.css">

    <title>TP4 - Ramiro Agustin Pereyra Noreiko</title>
</head>

<body class="bg-dark text-white">
    <main id="app" class="container-fluid">
        <header class="row">
            <div class="col-12">
                <h1>Please fill the form</h1>
            </div>
        </header>
        <form class="form-row bg-secondary rounded p-2 align-items-stretch" @submit.prevent="onSubmit">
            <div class="col-md-4 col-auto form-group">
                <label for="nameInput">Name and Surname</label>
                <input type="text" class="form-control" id="nameInput" aria-describedby="nameHelp" placeholder="Enter name"
                    v-model="person.name">
            </div>
            <div class="col-auto form-group">
                <label for="ageInput">Age</label>
                <select id="ageInput" class="form-control" v-model="person.age">
                    <option value="" selected></option>
                    <option v-for="age in possibleAges" :value="age">{{ age }}</option>
                </select>
            </div>
            <div class="col-auto form-group">
                <label>Gender</label>
                <div class="align-items-center">
                    <div v-for="gender in possibleGenders" class="custom-control custom-radio custom-control-inline">
                        <input class="custom-control-input" type="radio" name="genderRadio" :id="gender + 'Radio'"
                            :value="gender" v-model="person.gender">
                        <label class="custom-control-label text-uppercase" :for="gender + 'Radio'">{{ gender }}</label>
                    </div>
                </div>
            </div>
            <div class="col-auto align-self-center mt-3">
                <button type="submit" class="btn btn-outline-light">Submit</button>
            </div>
            <div class="col-12" v-show="formIsInvalid">
                <div class="alert alert-danger" role="alert">
                    {{ validationError }}
                </div>
            </div>
        </form>
        <section class="form-row bg-secondary rounded p-2 mt-2" v-show="thereArePersons">
            <!-- Filters -->
            <div class="col-12 d-flex justify-content-end">
                <div class="btn-group" role="group" aria-label="button group">
                    <button type="button" @click="clearFilter" :class="{active: filter == null}" class="btn btn-outline-light">All</button>
                    <button type="button" v-for="gender in possibleGenders" @click="setFilter(gender, $event)" :class="{active: filter == gender}"
                        class="btn btn-outline-light text-uppercase">
                        {{ gender }}
                    </button>
                </div>
            </div>
            <!-- Persons table -->
            <div class="col-12">
                <table class="table table-bordered mt-2">
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Age</th>
                            <th scope="col">Gender</th>
                        </tr>
                    </thead>
                    <tbody>
                        <template v-if="thereAreFilteredPersons">
                            <tr v-for="p in getFilteredPersons">
                                <td>{{p.name}}</td>
                                <td>{{p.age}}</td>
                                <td class="text-uppercase">{{p.gender}}</td>
                            </tr>
                        </template>
                        <template v-else>
                            <tr>
                                <td colspan="3">* No persons were found.</td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </section>
    </main>
    <script src="assets/js/vue.js"></script>
    <script src="assets/js/app.js"></script>
</body>

</html>